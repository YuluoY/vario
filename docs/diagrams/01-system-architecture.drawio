<mxGraphModel>
  <root>
    <mxCell id="0"/>
    <mxCell id="1" parent="0"/>
    
    <!-- Layer 5: Tooling & Integration -->
    <mxCell id="layer5-bg" value="Layer 5: Tooling &amp; Integration" style="rounded=0;fillColor=#F5F5F5;strokeColor=#BDBDBD;whiteSpace=wrap;html=1;fontSize=12;fontStyle=1;align=left;verticalAlign=top;" vertex="1" parent="1">
      <mxGeometry x="40" y="40" width="720" height="80" as="geometry"/>
    </mxCell>
    <mxCell id="vario-agent" value="vario-agent&#xa;AI Agent Integration" style="rounded=1;fillColor=#FFEBEE;strokeColor=#C62828;fontSize=12;fontStyle=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
      <mxGeometry x="80" y="60" width="140" height="50" as="geometry"/>
    </mxCell>
    <mxCell id="vario-cli" value="vario-cli&#xa;Dev Server &amp; Codegen" style="rounded=1;fillColor=#FFEBEE;strokeColor=#C62828;fontSize=12;fontStyle=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
      <mxGeometry x="260" y="60" width="140" height="50" as="geometry"/>
    </mxCell>
    
    <!-- Layer 4: Plugin System -->
    <mxCell id="layer4-bg" value="Layer 4: Plugin System" style="rounded=0;fillColor=#F5F5F5;strokeColor=#BDBDBD;whiteSpace=wrap;html=1;fontSize=12;fontStyle=1;align=left;verticalAlign=top;" vertex="1" parent="1">
      <mxGeometry x="40" y="150" width="720" height="80" as="geometry"/>
    </mxCell>
    <mxCell id="vario-runtime" value="vario-runtime&#xa;Capability Registry&#xa;Plugin Loader" style="rounded=1;fillColor=#E8F5E9;strokeColor=#2E7D32;fontSize=12;fontStyle=1;align=center;verticalAlign=middle;whiteSpace=wrap;html=1;" vertex="1" parent="1">
      <mxGeometry x="320" y="170" width="180" height="50" as="geometry"/>
    </mxCell>
    
    <!-- Layer 3: Rendering Backends -->
    <mxCell id="layer3-bg" value="Layer 3: Rendering Backends (Framework-specific)" style="rounded=0;fillColor=#F5F5F5;strokeColor=#BDBDBD;whiteSpace=wrap;html=1;fontSize=12;fontStyle=1;align=left;verticalAlign=top;" vertex="1" parent="1">
      <mxGeometry x="40" y="260" width="720" height="80" as="geometry"/>
    </mxCell>
    <mxCell id="vario-vue" value="vario-vue&#xa;Vue 3 Renderer" style="rounded=1;fillColor=#E3F2FD;strokeColor=#1565C0;fontSize=12;fontStyle=1;align=center;verticalAlign=middle;" vertex="1" parent="1">
      <mxGeometry x="200" y="280" width="140" height="50" as="geometry"/>
    </mxCell>
    <mxCell id="vario-react" value="vario-react&#xa;React Renderer (Future)" style="rounded=1;fillColor=#E3F2FD;strokeColor=#1565C0;fontSize=12;fontStyle=1;align=center;verticalAlign=middle;dashed=1;" vertex="1" parent="1">
      <mxGeometry x="380" y="280" width="140" height="50" as="geometry"/>
    </mxCell>
    
    <!-- Layer 2: Schema & Transformation -->
    <mxCell id="layer2-bg" value="Layer 2: Schema &amp; Transformation" style="rounded=0;fillColor=#F5F5F5;strokeColor=#BDBDBD;whiteSpace=wrap;html=1;fontSize=12;fontStyle=1;align=left;verticalAlign=top;" vertex="1" parent="1">
      <mxGeometry x="40" y="370" width="720" height="80" as="geometry"/>
    </mxCell>
    <mxCell id="vario-schema" value="vario-schema&#xa;Schema DSL&#xa;Validator &amp; Transform" style="rounded=1;fillColor=#E1F5FE;strokeColor=#0288D1;fontSize=12;fontStyle=1;align=center;verticalAlign=middle;whiteSpace=wrap;html=1;" vertex="1" parent="1">
      <mxGeometry x="300" y="390" width="200" height="50" as="geometry"/>
    </mxCell>
    
    <!-- Layer 1: Core Runtime (Framework-agnostic) -->
    <mxCell id="layer1-bg" value="Layer 1: Core Runtime (Framework-agnostic)" style="rounded=0;fillColor=#F5F5F5;strokeColor=#BDBDBD;whiteSpace=wrap;html=1;fontSize=12;fontStyle=1;align=left;verticalAlign=top;" vertex="1" parent="1">
      <mxGeometry x="40" y="480" width="720" height="80" as="geometry"/>
    </mxCell>
    <mxCell id="vario-core-vm" value="vario-core/vm&#xa;Instruction VM" style="rounded=1;fillColor=#FFF3E0;strokeColor=#E65100;fontSize=12;fontStyle=1;align=center;verticalAlign=middle;whiteSpace=wrap;html=1;" vertex="1" parent="1">
      <mxGeometry x="100" y="500" width="140" height="50" as="geometry"/>
    </mxCell>
    <mxCell id="vario-core-expr" value="vario-core/expression&#xa;Parser &amp; Evaluator" style="rounded=1;fillColor=#FFF3E0;strokeColor=#E65100;fontSize=12;fontStyle=1;align=center;verticalAlign=middle;whiteSpace=wrap;html=1;" vertex="1" parent="1">
      <mxGeometry x="280" y="500" width="160" height="50" as="geometry"/>
    </mxCell>
    <mxCell id="vario-core-runtime" value="vario-core/runtime&#xa;Context &amp; Sandbox" style="rounded=1;fillColor=#FFF3E0;strokeColor=#E65100;fontSize=12;fontStyle=1;align=center;verticalAlign=middle;whiteSpace=wrap;html=1;" vertex="1" parent="1">
      <mxGeometry x="480" y="500" width="160" height="50" as="geometry"/>
    </mxCell>
    
    <!-- 连线: Layer 5 -> Layer 4 -->
    <mxCell id="edge5-4" value="" style="endArrow=classic;edgeStyle=orthogonalEdgeStyle;curved=1;strokeColor=#546E7A;strokeWidth=2;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" edge="1" parent="1" source="vario-agent" target="vario-runtime">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="edge5-4-2" value="" style="endArrow=classic;edgeStyle=orthogonalEdgeStyle;curved=1;strokeColor=#546E7A;strokeWidth=2;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" edge="1" parent="1" source="vario-cli" target="vario-runtime">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    
    <!-- 连线: Layer 4 -> Layer 3 -->
    <mxCell id="edge4-3" value="" style="endArrow=classic;edgeStyle=orthogonalEdgeStyle;curved=1;strokeColor=#546E7A;strokeWidth=2;exitX=0.25;exitY=1;entryX=0.5;entryY=0;" edge="1" parent="1" source="vario-runtime" target="vario-vue">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="edge4-3-2" value="" style="endArrow=classic;edgeStyle=orthogonalEdgeStyle;curved=1;strokeColor=#546E7A;strokeWidth=2;exitX=0.75;exitY=1;entryX=0.5;entryY=0;" edge="1" parent="1" source="vario-runtime" target="vario-react">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    
    <!-- 连线: Layer 3 -> Layer 2 -->
    <mxCell id="edge3-2" value="" style="endArrow=classic;edgeStyle=orthogonalEdgeStyle;curved=1;strokeColor=#546E7A;strokeWidth=2;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" edge="1" parent="1" source="vario-vue" target="vario-schema">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    
    <!-- 连线: Layer 2 -> Layer 1 -->
    <mxCell id="edge2-1" value="" style="endArrow=classic;edgeStyle=orthogonalEdgeStyle;curved=1;strokeColor=#546E7A;strokeWidth=2;exitX=0.25;exitY=1;entryX=0.5;entryY=0;" edge="1" parent="1" source="vario-schema" target="vario-core-vm">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="edge2-1-2" value="" style="endArrow=classic;edgeStyle=orthogonalEdgeStyle;curved=1;strokeColor=#546E7A;strokeWidth=2;exitX=0.5;exitY=1;entryX=0.5;entryY=0;" edge="1" parent="1" source="vario-schema" target="vario-core-expr">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    <mxCell id="edge2-1-3" value="" style="endArrow=classic;edgeStyle=orthogonalEdgeStyle;curved=1;strokeColor=#546E7A;strokeWidth=2;exitX=0.75;exitY=1;entryX=0.5;entryY=0;" edge="1" parent="1" source="vario-schema" target="vario-core-runtime">
      <mxGeometry relative="1" as="geometry"/>
    </mxCell>
    
    <!-- 标题 -->
    <mxCell id="title" value="Vario System Architecture (5 Layers)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;" vertex="1" parent="1">
      <mxGeometry x="40" y="10" width="720" height="25" as="geometry"/>
    </mxCell>
  </root>
</mxGraphModel>